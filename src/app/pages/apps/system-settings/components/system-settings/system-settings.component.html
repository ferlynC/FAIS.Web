<vex-page-layout>
    <vex-secondary-toolbar>
        <vex-breadcrumbs [crumbs]="['System Management', 'System Settings']"></vex-breadcrumbs>
    </vex-secondary-toolbar>

    <vex-page-layout-content class="container">
        <form class="settings" id="settingsForm" [formGroup]="settingsForm" (ngSubmit)="onSubmit()">
            <div class="card flex flex-col sm:flex-row">
                <div class="border-l flex-auto">
                    <div class="bg-base border-l-3 p-4 mt-3 flex flex-col sm:flex-row gap-3 items-center">
                        <button class="rounded-full !bg-green !text-white" mat-raised-button
                            type="button" (click)="save()">
                            <mat-icon class="ltr:-ml-1 rtl:-mr-1 ltr:mr-2 rtl:ml-2" svgIcon="mat:save_as"></mat-icon>
                            <span>Save</span>
                        </button>
                    </div>
                    <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start" dynamicHeight class="tabs">
                        <mat-tab label="General">
                            <div class="gen-set px-8">
                                <div class="grid md:grid-cols-2 md:gap-x-8 mt-8">
                                    <div class="mb-6">
                                        <label for="comp-input" class="block mb-2 text-sm font-medium font-bold">Company
                                            Name</label>
                                        <mat-form-field appearance="outline" class="w-full">
                                            <input matInput id="comp-input" type="text" placeholder="Company Name" [(ngModel)]="companyName"
                                                class="block w-full" formControlName="companyName">
                                        </mat-form-field>
                                    </div>
                                    <div class="mb-6">
                                        <label for="pn-input" class="block mb-2 text-sm font-medium font-bold">Phone
                                            Number</label>
                                        <mat-form-field appearance="outline" class="w-full">
                                            <input matInput id="pn-input" type="text" placeholder="Phone Number" [(ngModel)]="phoneNumber"
                                                class="block w-full" formControlName="phoneNumber">
                                        </mat-form-field>
                                    </div>
                                    <div class="mb-6">
                                        <label for="em-input" class="block mb-2 text-sm font-medium font-bold">Email
                                            Address</label>
                                        <mat-form-field appearance="outline" class="w-full">
                                            <input matInput id="em-input" type="email" placeholder="Email Address" [(ngModel)]="email"
                                                class="block w-full" formControlName="emailAddress">
                                        </mat-form-field>
                                    </div>
                                    <div class="mb-6">
                                        <label for="web-input"
                                            class="block mb-2 text-sm font-medium font-bold">Website</label>
                                        <mat-form-field appearance="outline" class="w-full">
                                            <input matInput id="web-input" type="text" placeholder="Website" [(ngModel)]="website"
                                                class="block w-full" formControlName="website">
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="mb-2">
                                    <label for="addr-input"
                                        class="block mb-2 text-sm font-medium font-bold">Address</label>
                                    <mat-form-field appearance="outline" class="w-full">
                                        <input matInput id="addr-input" type="text" placeholder="Address" [(ngModel)]="address"
                                            class="block w-full" formControlName="address">
                                    </mat-form-field>
                                </div>
                                <hr class="w-full">
                            </div>
                            <vex-app-version></vex-app-version>
                        </mat-tab>
                        <mat-tab label="Configuration Settings">
                            <div class="conf-set px-8">
                                <div class="grid md:grid-cols-2 md:gap-x-8 mt-8">
                                    <div class="mb-6">
                                        <label for="min-pass" class="block mb-2 text-sm font-medium font-bold">Minimum
                                            Password Length</label>
                                        <mat-form-field appearance="outline" class="w-full">
                                            <mat-select name="min-pass" id="min-pass" formControlName="minPasswordLength" [value]="minPassLength"
                                                class="block w-full">
                                                <mat-option *ngFor="let minPass of minPassOpt" [value]="minPass.value">
                                                    {{minPass.value}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="mb-6">
                                        <label for="min-schar" class="block mb-2 text-sm font-medium font-bold">Minimum
                                            Special Characters</label>
                                        <mat-form-field appearance="outline" class="w-full">
                                            <mat-select name="min-schar" id="min-schar" formControlName="minSpecialCharacters" [value]="minSplChars"
                                                class="block w-full">
                                                <mat-option *ngFor="let minSpChar of minSpCharOpt"
                                                    [value]="minSpChar.value">
                                                    {{minSpChar.value}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="mb-6">
                                        <label for="pass-exp" class="block mb-2 text-sm font-medium font-bold">Password
                                            Expiry (days)</label>
                                        <mat-form-field appearance="outline" class="w-full">
                                            <mat-select name="pass-exp" id="pass-exp" formControlName="passwordExpiry" [value]="passExpiry"
                                                class="block w-full">
                                                <mat-option *ngFor="let passExp of passExpOpt" [value]="passExp.value">
                                                    {{passExp.value}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="mb-6">
                                        <label for="idle" class="block mb-2 text-sm font-medium font-bold">Idle Time (in
                                            minutes)</label>
                                        <mat-form-field appearance="outline" class="w-full">
                                            <mat-select name="idle" id="idle" formControlName="idleTime" [value]="idleTime"
                                                class="block w-full">
                                                <mat-option *ngFor="let idle of idleOpt" [value]="idle.value">
                                                    {{idle.value}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                    </div>
                                    <div class="mb-6">
                                        <label for="sign-atmp" class="block mb-2 text-sm font-medium font-bold">Maximum
                                            signing on attempts</label>
                                        <mat-form-field appearance="outline" class="w-full">
                                            <mat-select name="sign-atmp" id="sign-atmp" formControlName="maxSignOnAttempts" [value]="maxSignAtmp"
                                                class="block w-full">
                                                <mat-option *ngFor="let signAtmp of signAtmpOpt"
                                                    [value]="signAtmp.value">
                                                    {{signAtmp.value}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <div class="block w-full">
                                            <span>The number of consecutive sign-on or password verification attempts
                                                that are not correct by users.</span>
                                        </div>
                                    </div>
                                    <div class="mb-6">
                                        <label for="enf-pass" class="block mb-2 text-sm font-medium font-bold">Enforce
                                            Password history</label>
                                        <mat-form-field appearance="outline" class="w-full">
                                            <mat-select name="enf-pass" id="enf-pass" formControlName="enforcePasswordHistory" [value]="enfPassHistory"
                                                class="block w-full">
                                                <mat-option *ngFor="let enfPass of enfPassOpt" [value]="enfPass.value">
                                                    {{enfPass.value}}
                                                </mat-option>
                                            </mat-select>
                                        </mat-form-field>
                                        <div class="block w-full">
                                            <span>The policy setting determines the number of unique new passwords that
                                                must be associated with a user account before an old password can be
                                                reused.</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </mat-tab>
                        <mat-tab label="Simple Mail Transfer Protocol (SMTP)">
                            <div class="smtp my-8 px-8">
                                <div class="text-base">
                                    <span class="font-bold">SMTP (Simple Mail Transfer Protocol)</span> server is an
                                    application that's primary purpose is to send, receive, and/or relay outgoing mail
                                    between email senders and receivers.
                                </div>
                                <div class="grid md:grid-cols-2 md:gap-x-8 mt-8">
                                    <div class="mb-6">
                                        <label for="smtp-name" class="block mb-2 text-sm font-medium font-bold">SMTP
                                            Server Name</label>
                                        <mat-form-field appearance="outline" class="w-full">
                                            <input matInput id="smtp-name" type="text" placeholder="SMTP Server Name" [(ngModel)]="smtpServerName"
                                                class="block w-full" formControlName="smtpServerName">
                                        </mat-form-field>
                                    </div>
                                    <div class="mb-6">
                                        <label for="port" class="block mb-2 text-sm font-medium font-bold">SMTP Port</label>
                                        <mat-form-field appearance="outline" class="w-full">
                                            <input matInput id="port" type="text" placeholder="SMTP Port" [(ngModel)]="smtpPort"
                                                class="block w-full" formControlName="smtpPort">
                                        </mat-form-field>
                                    </div>
                                    <div class="mb-2">
                                        <label for="smtp-email" class="block mb-2 text-sm font-medium font-bold">SMTP
                                            From Email</label>
                                        <mat-form-field appearance="outline" class="w-full">
                                            <input matInput id="smtp-email" type="text" placeholder="SMTP From Email" class="block w-full" [(ngModel)]="smtpFromEmail" formControlName="smtpFromEmail">
                                        </mat-form-field>
                                    </div>
                                    <div class="mb-2">
                                        <label for="smtp-password" class="block mb-2 text-sm font-medium font-bold">SMTP Password</label>
                                        <mat-form-field appearance="outline" class="w-full">
                                            <input matInput id="smtp-password" [type]="hidePass ? 'password':'text'" placeholder="SMTP Password" class="block w-full" [(ngModel)]="smtpPass" formControlName="smtpPassword">
                                            <mat-icon matSuffix svgIcon="mat:{{hidePass ? eyeClose : eyeOpen}}" (click)="hidePass = !hidePass"></mat-icon>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="text-base">
                                    <div class="mb-6">
                                        <div class="flex items-center">
                                            <label for="smtp-password" class="block text-sm font-medium font-bold">SMTP
                                                Enable SSL</label>
                                            <mat-checkbox color="accent" formControlName="smtpEnableSSL" [checked]="enableSSL === 'Y'" (change)="onCheckboxChange($event)" [(ngModel)]="enableSSL"></mat-checkbox>
                                        </div>
                                        <p class="text-gray-700">The primary reason why SSL is used is to keep sensitive
                                            information sent across the Internet encrypted so that only the intended
                                            recipient can access it. This is important because the information you send
                                            on the Internet is passed from computer to computer to get to the
                                            destination server.</p>
                                    </div>
                                </div>
                            </div>
                        </mat-tab>
                    </mat-tab-group>
                </div>
            </div>
        </form>
    </vex-page-layout-content>
</vex-page-layout>